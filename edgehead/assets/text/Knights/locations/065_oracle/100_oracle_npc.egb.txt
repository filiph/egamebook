// Oracle notes:
// 
// - Super excited. Optimistic. Positive. Joie de vivre.

// ---
ACTION: $talk_to_oracle_greetings
COMMAND: Woman >> Talk >> "Greetings."
FOR_LOCATION: $oracle_main
PREREQUISITES:
// Oracle must live.
!c.hasHappened(evOrcOffensive)

INK:
"Greetings to you, too, [young sir]. I am Oracle. Bring me good information, and I will repay you with good information."

[[CODE]]
c.learn(OracleFacts.personally);
[[ENDCODE]]


// ---
ACTION: $ask_oracle_about_keep
COMMAND: Oracle >> Talk >> "What can you tell me about the Keep?"
FOR_LOCATION: $oracle_main
PREREQUISITES:
// Oracle must live.
!c.hasHappened(evOrcOffensive)
&&
w.actionHasBeenPerformed("talk_to_oracle_greetings")

COMPLETE_SUCCESS_DESCRIPTION:
"I worked there as a kid."

[[CODE]]
c.learn(KeepGateFacts.oracleWorkedInKeep);
[[ENDCODE]]



// ---
ACTION: $ask_oracle_about_keep_gate
COMMAND: Oracle >> Talk >> "Can you help me open the Keep?"
FOR_LOCATION: $oracle_main
PREREQUISITES:
// Oracle must live.
!c.hasHappened(evOrcOffensive)
&&
w.actionHasBeenPerformed("talk_to_oracle_greetings")
&&
c.knows(KeepGateFacts.oracleWorkedInKeep)
// TODO: add "kbOracleWorkedInKeep"

COMPLETE_SUCCESS_DESCRIPTION:
Oracle describes a convoluted series of steps to open the gate.

[[CODE]]
c.learn(KeepGateFacts.keepGateUnlock);
[[ENDCODE]]


// ---
ACTION: $oracle_give_north_skull
COMMAND: inventory >> North Skull >> Give to Oracle
FOR_LOCATION: $oracle_main
PREREQUISITES:
// Oracle must live.
!c.hasHappened(evOrcOffensive)
&&
w.actionHasBeenPerformed("talk_to_oracle_greetings")
&&
c.hasItem(northSkullId)

COMPLETE_SUCCESS_DESCRIPTION:
Oracle is very thankful.

[[CODE]]
c.removeItemFromPlayer(northSkullId);
[[ENDCODE]]


// ---
ACTION: $talk_to_oracle_doghead
COMMAND: Oracle >> Talk >> "Tell me about Doghead."
FOR_LOCATION: $oracle_main

PREREQUISITES:
// Oracle must live.
!c.hasHappened(evOrcOffensive)
&&
c.knows(DogheadFacts.somethingCalledDoghead)
&&
w.actionHasBeenPerformed("talk_to_oracle_greetings")

INK:
"There's a prophesy. A man with a dog's head will come and save this place. The Pyramid was never an easy place to live in. Even before the Orcs came, death and violence was common."

[[CODE]]
c.learn(OrcsFacts.inPyramid);
c.learn(DogheadFacts.dogheadMyth);
[[ENDCODE]]

"The Knights have been stationed here for generations, but even a force such as that cannot fully prevent peril in a place like San Francisco. The woods have been always crawling with vile creatures. The power of the Pyramid has always attracted the corrupt and the evil. I think the villagers and the farmers clinged to this tale. It gives them hope."

"Now, with the Orcs and Big O and goblins, the popularity of the tale of the Doghead is only getting stronger."

[[CODE]]
c.learn(BigOFacts.someoneCalledBigO);
[[ENDCODE]]


// ---
ACTION: $talk_to_oracle_orcs
COMMAND: Oracle >> Talk >> "Tell me about the orcs."
FOR_LOCATION: $oracle_main

PREREQUISITES:
// Oracle must live.
!c.hasHappened(evOrcOffensive)
&&
c.knows(OrcsFacts.inPyramid)
&&
w.actionHasBeenPerformed("talk_to_oracle_greetings")

INK:
// TODO: rewrite this draft to readable prose
"There are still things I'd like to see again, up there. The Lair of God is one. It was a beautiful temple, 2 floors high, with spectacular views of the Bay. Built by the Deathless. It had an artifact in it, an ancient star. But it was taken over by the orcs, and they have some creature there. Something big."

[[CODE]]
c.learn(ArtifactStarFacts.lairOfGodTempleTakenByOrcs);
c.learn(ArtifactStarFacts.artifactStarInLairOfGod);
c.learn(DeathlessFacts.somethingCalledDeathless);
[[ENDCODE]]


// ---
ACTION: $talk_to_oracle_quake_1
COMMAND: Oracle >> Talk >> "Was that an earthquake?"
FOR_LOCATION: $oracle_main

PREREQUISITES:
// Oracle must live.
!c.hasHappened(evOrcOffensive)
&&
w.actionHasBeenPerformed("talk_to_oracle_greetings")
&&
c.knows(ConetFacts.quakeHappened)
&&
!c.knows(ConetFacts.quakesOften)

INK:
"Ah yes, these happen quite often."

[[CODE]]
c.learn(ConetFacts.quakesOften);
[[ENDCODE]]

// Optional: go on a complete tangent here.


// ---
ACTION: $talk_to_oracle_earthquakes
COMMAND: Oracle >> Talk >> "What can you tell me about the earthquakes here?"
FOR_LOCATION: $oracle_main

PREREQUISITES:
// Oracle must live.
!c.hasHappened(evOrcOffensive)
&&
c.knows(ConetFacts.quakesOften)
&&
w.actionHasBeenPerformed("talk_to_oracle_greetings")

INK:
"The quakes." She stomps her foot on the ground and grins. "The quakes are terrible. Terrible! Fascinating. I have a little theory."

* "What theory?"

  "A theory is when you have an explanation for something but can't prove it yet."

  * * "I knew that."

    "Did you, now." Oracle looks at you with piercing eyes. "I guess you did, [young sir]." She smiles.

  * * "Tell me your earthquake theory."

* "Tell me."

-

"I think that Big O is behind the quakes. I think they're not earthquakes, really. I think that they're coming from the top of the Pyramid, not the ground."

[[CODE]]
c.learn(BigOFacts.someoneCalledBigO);
c.learn(ConetFacts.quakesFromTop);
[[ENDCODE]]


// ---
ACTION: $talk_to_oracle_deathless
COMMAND: Oracle >> Talk >> "Who are the Deathless?"
FOR_LOCATION: $oracle_main

PREREQUISITES:
// Oracle must live.
!c.hasHappened(evOrcOffensive)
&&
w.actionHasBeenPerformed("talk_to_oracle_greetings")
&&
c.knows(DeathlessFacts.somethingCalledDeathless)

INK:
"They are a cult. They worship the ancients, and all artifacts from them. They've been here in the Pyramid for longer than the farmers, or the Knight, or the orcs."

[[CODE]]
c.learn(OrcsFacts.inPyramid);
[[ENDCODE]]

"They used to inhabit a lot more of the Pyramid. These days, they live in a village in the part known as the Jungle. It's the big hole in the building on the west side, overgrown with vegetation."

[[CODE]]
c.learn(DeathlessFacts.location);
[[ENDCODE]]

"The Deathless are not dangerous. I think they want to live forever but... who doesn't."


// ---
ACTION: $talk_to_oracle_dragon_egg
COMMAND: Oracle >> Talk >> "What can you tell me about the Dragon Egg?"
FOR_LOCATION: $oracle_main

PREREQUISITES:
// Oracle must live.
!c.hasHappened(evOrcOffensive)
&&
w.actionHasBeenPerformed("talk_to_oracle_greetings")
&&
c.knows(DragonEggFacts.anAncientWeapon)
&&
!c.knows(DragonEggFacts.deathlessHaveIt)

INK:
"What can I tell you about the Dragon Egg! Ha! A small, powerful thing. An end to any dispute. Shame it's in the wrong hands."

* "Whose hands?"

  "The Deathless! They have had it for generations. It's ancient, after all. But in a remarkably good shape, I'll tell you. Something about this place just makes ancient things last."

-

[[CODE]]
c.learn(DragonEggFacts.deathlessHaveIt);
[[ENDCODE]]

* "Why are Deathless the 'wrong hands' for it?"

  "They won't use it. It's a relic for them."

* "How can I get it?"

  "Ha! You can't, [young sir]. The Deathless have been using it as a holy symbol for generations. They won't just give it away."


// TODO: ask about BigO

NOTES:
// Oracle has a pet crow that talks.
// Maybe this is where we smell the coffee, and later the room is taken over, and the Oracle is dead, and all we smell is the coffee.

// Vignette:

Someone (Oracle? A knight?) presses the legacy issue on the PC

So, what are you trying to do?

* Find my brother
* Learn necromancy
* Achieve independence

-

That's not a goal. It's a waypoint. What are you trying to do?

* To be a better brother
* To be a better person
* To be better at what I do

-

That, again, is not a goal. It's a way to achieve something. What are you trying to do? What will 

* 

// Vignette

They're still searching for unicorns down in the valley. They think the horns will make them rich. They are idiots. Unicorns are vicious beasts. White as snow â€” only until they're covered in blood.

"I love this city," she says, motioning towards the overgrown ruins outside the window.


"Aren't you bored of this talking? You're in San Francisco! People don't come to San Francisco to talk. People come here to slay."


// Idea

You can play with some gadget and inadvertently fall down to a part of the jungle from here. You legs will get broken.
